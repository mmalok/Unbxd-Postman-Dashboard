<!DOCTYPE html>
<html style="min-height: 1767px;"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="UTF-8">
        <title>Dashboard</title>
        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
        <link href="dashboard_files/bootstrap.css" rel="stylesheet" type="text/css">
        <link href="dashboard_files/font-awesome.css" rel="stylesheet" type="text/css">
        <!-- Ionicons -->
        <link href="dashboard_files/ionicons.css" rel="stylesheet" type="text/css">
        <!-- Morris chart -->
        <link href="dashboard_files/morris.css" rel="stylesheet" type="text/css">
        <!-- jvectormap -->
        <link href="dashboard_files/jquery-jvectormap-1.css" rel="stylesheet" type="text/css">
        <!-- Date Picker -->
        <link href="dashboard_files/datepicker3.css" rel="stylesheet" type="text/css">
        <!-- Daterange picker -->
        <link href="dashboard_files/daterangepicker-bs3.css" rel="stylesheet" type="text/css">
        <!-- bootstrap wysihtml5 - text editor -->
        <link href="dashboard_files/bootstrap3-wysihtml5.css" rel="stylesheet" type="text/css">
        <!-- Theme style -->
        <link href="dashboard_files/AdminLTE.css" rel="stylesheet" type="text/css">
        
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" href="dashboard_files/bootstrap-clockpicker.min.css">



        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>

        <![endif]-->
        
        <style>
@import url(http://fonts.googleapis.com/css?family=Roboto:400,500,700,300,100);

.modalcontext {
    margin-top: 4000px;
   
   
}
.modal{
  background:rgba(0,0,0,0.6);
  height:1200px;
}
.modal-dialog{
  margin:400px auto;
}

div.table-title {
   display: block;
  max-width: 600px;
  padding:5px;
  width: 50%;
}




/*** Table Styles **/

.table-fill {
  background: white;
  border-radius:3px;
  border-collapse: collapse;
  height: 5px;
  margin: auto;
  max-width: 1000px;
  padding:5px;
  width: 100%;
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
  animation: float 5s infinite;
}
 
th {
  
  
  border-right: 1px solid #C1C3D1;
  border-left: 1px solid #C1C3D1;
  font-size:23px;
  font-weight: 100;
  padding:15px;
  text-align:right;
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
  vertical-align:middle;
}


  
tr {
  border-top: 1px solid #C1C3D1;
  border-left: 1px solid #C1C3D1;
  border-bottom-: 1px solid #C1C3D1;
  color:#666B85;
  font-size:16px;
  text-align:right;
  font-weight:normal;
  text-shadow: 0 1px 1px rgba(256, 256, 256, 0.1);
}
 
 

 
td {
  
  padding:10px;
  text-align:right;
  vertical-align:middle;
  font-weight:300;
  font-size:20px;
  text-shadow: -1px -1px 1px rgba(0, 0, 0, 0.1);
  border-right: 1px solid #C1C3D1;
}


th.text-left {
  text-align: left;
}

th.text-center {
  text-align: left;
}

th.text-right {
  text-align: left;
}

td.text-left {
  text-align: left;
}

td.text-center {
  text-align: left;
}

td.text-right {
  text-align: left;
}

        </style>
        <style>
        #command option{
            font-size: 20px;
 width:400px;
    height:40px;
}

        </style>
        
        <style>
        #field_command option{
            font-size: 20px;
            width:400px;
            height:40px;
        
         }

        </style>




    <style type="text/css">.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}</style></head>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

<body style="min-height: 1767px;" class="skin-blue wysihtml5-supported  pace-done" >
{%block alert%}                
                    
{%endblock%}
<div id="alert_commit" name="alert_commit" style="display:none;">
              <div class="example-modal">
                <div class="modal modal-info" style="display:block">
                  <div class="modal-dialog" >
                    <div class="modal-content" style="display: block;" >
                                
                      <div class="modal-header" style="background-color: #367fa9">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="remove_commit()"><span aria-hidden="true" ><b style="color:white">x</b></span></button>
                        <h4 class="modal-title" style="color:white">COMMIT</h4>
                      </div>
                      <div class="modal-body" style="background-color: #367fa9">
                        <p style="color:white"><b>Do you want to commit ur previous changes??</b></p>
                      </div>
                    <div class="modal-footer" style="background-color: #367fa9">
                      <button type="button" class="btn btn-default" id="commit_button" data-dismiss="modal" onclick="commit_alert()" >commit</button>
                      <!--button type="button" class="btn btn-primary">Save changes</button-->
                    </div>
                  
                  </div><!-- /.modal-content -->
                </div><!-- /.modal-dialog -->
              </div><!-- /.modal -->
            </div>
          </div>

          <div id="alert_delete" name="alert_delete" style="display:none;">
              <div class="example-modal">
                <div class="modal modal-info" style="display:block">
                  <div class="modal-dialog" >
                    <div class="modal-content" style="display: block;" >
                                
                      <div class="modal-header" style="background-color: #367fa9">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="remove_alert()"><span aria-hidden="true" ><b style="color:white">x</b></span></button>
                        <h4 class="modal-title" style="color:white">DELETE</h4>
                      </div>
                      <div class="modal-body" style="background-color: #367fa9">
                        <p style="color:white"><b>Are you sure you wants to delete??</b></p>
                      </div>
                    <div class="modal-footer" style="background-color: #367fa9">
                      <button type="button" class="btn btn-default" id="del_button" data-dismiss="modal" onclick="delete_alert()" >delete</button>
                      <!--button type="button" class="btn btn-primary">Save changes</button-->
                    </div>
                  
                  </div><!-- /.modal-content -->
                </div><!-- /.modal-dialog -->
              </div><!-- /.modal -->
            </div>
          </div>

    <div class="pace  pace-inactive">
        <div data-progress="99" data-progress-text="100%" style="width: 100%;" class="pace-progress">
            <div class="pace-progress-inner">
                
            </div>
        </div>
        <div class="pace-activity">
        </div>
    </div>
    <!-- header logo: style can be found in header.less -->
    <header class="header">
        <a href="/dashboard" class="logo">
            <!-- Add the class icon to your logo image or logo icon to add the margining -->
            Dashboard
        </a>
        <!-- Header Navbar: style can be found in header.less -->
        <nav class="navbar navbar-static-top" role="navigation">
            <!-- Sidebar toggle button-->
            <a href="#" class="navbar-btn sidebar-toggle" data-toggle="offcanvas" role="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
            <div class="navbar-right">
                <ul class="nav navbar-nav">
                    {%block profile%}{%endblock%}
                        <!-- User Account: style can be found in dropdown.less -->
                </ul>
            </div>
        </nav>
    </header>
    <div style="min-height: 679px;" class="wrapper row-offcanvas row-offcanvas-left">
        <!-- Left side column. contains the logo and sidebar -->
        <aside style="min-height: 1767px;" class="left-side sidebar-offcanvas bg-#367fa9;">
            <!-- sidebar: style can be found in sidebar.less -->
            <section class="sidebar">
                <!-- Sidebar user panel -->
                <div class="user-panel">
                    <div class="pull-left image">
                    {%block image%}
                        {%endblock%}
                    </div>
                    <div class="pull-left info">
                    </br>
                        <center><p>Hello {%block name%}
                        {%endblock%}</p></center>             
                    </div>
                </div>
                <!-- search form -->
                <!-- /.search form -->
                <!-- sidebar menu: : style can be found in sidebar.less -->
                <ul class="sidebar-menu">
                    <li class="active">
                        <a href="/simple_login">
                            <i class="fa fa-dashboard"></i> <span>HOME</span>
                        </a>
                    </li>
                    <li class="treeview" style="display: block;">
                        <a href="#">
                            <i class="fa fa-folder"></i> 
                            <span>AUTOsuggest</span>
                            <i class="fa pull-right fa-angle-left"></i>
                        </a>
                        <ul style="display: block;" class="treeview-menu">
                            <a href="#">
                            <li onclick="Metric(this.id)" id="Popular_Product" style="margin-left: 30px;"><i class="fa fa-circle-o">
                                <!--i class="fa fa-angle-circle-ot"></i-->
                                Popular Product
                            </i>
                            </li>
                            <a href="#">
                            </li>
                            <li style="margin-left: 30px;" onclick="Metric(this.id)" id="In_Field"><i class="fa fa-circle-o">
                                <!--i class="fa fa-angle-double-right"></i-->
                                In Field
                                </i>
                            </li>
                            </a>
                            <a href='#'>
                            <li style="margin-left: 30px;" onclick="Metric(this.id)" id="Suggestion"><i class="fa fa-circle-o">
                                <!--i class="fa fa-angle-double-right"></i-->
                                Suggestion
                                </i>
                            </li>
                            </a>
                        </ul>
                    </li>
                    <!-- sharath part -->
                    <li class="treeview active">
              <a href="#">
                <i class="fa fa-laptop"></i>
                <span>Task Scheduler</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu menu-open" style="display: block;">
                <li><a href="status"><i class="fa fa-circle-o"></i> Status</a></li>
                <li><a href="add_task"><i class="fa fa-circle-o"></i> AddTask</a></li>
                <li><a href="update_task"><i class="fa fa-circle-o"></i> UpdateTask</a></li>
              </ul>
            </li>



            <li class="treeview active">
              <a href="#">
                <i class="fa fa-laptop"></i>
                <span>Task Manager</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu menu-open" style="display: block;">
                <li class="treeview active">
                  <a href="#">
                    <i class="fa fa-share"></i>
                    <span>Status</span>
                    <i class="fa fa-angle-left pull-right"></i>
                  </a>
                  <ul class="treeview-menu menu-open" style="display: none;">
                        <li><a href="task_manager"><i class="fa fa-circle-o"></i> Manager</a></li>
                        <li><a href="task_specific"><i class="fa fa-circle-o"></i> Specific Agents</a></li>
                        <li><a href="task_all"><i class="fa fa-circle-o"></i> All agents</a></li>
                  </ul>

              <ul class="treeview-menu menu-open" style="display: block;">
                <li class="treeview active">
                  <a href="#">
                    <i class="fa fa-share"></i>
                    <span>Running Task</span>
                    <i class="fa fa-angle-left pull-right"></i>
                  </a>
                  <ul class="treeview-menu menu-open" style="display: none;">
                        <li><a href="running_task_all"><i class="fa fa-circle-o"></i> All Agents</a></li>
                        <li><a href="running_task_specific"><i class="fa fa-circle-o"></i> Specific Agents</a></li>
                  </ul>
                
              </ul>
            </li>
                </ul>
            
                </ul>
            
            </section>
        <!-- /.sidebar -->
        </aside>
        <!-- Right side column. Contains the navbar and content of the page -->
        <aside class="right-side">
        <!-- Content Header (Page header) -->
            <section class="content-header">
                <h1>
                    Dashboard
                </h1>
            </section>
            <!-- Main content -->
            
            <section class="content">
                <div class="box box-solid box-primary " id="dashboard_title">
                    <div class="box-header with-border">
                        <h3 class="box-title">
                            <div id="cur_param">
                                    {%block paramName%}
                                        UNBXD Postmaster API Dashboard
                                    {%endblock%}
                            </div>
                        </h3>
                        {%block test%}
                        <div class="box-tools pull-right">
                            <form >
                                <select name="command" class="form-control" id="command" onchange="Company_Changed()">
                                    <option value="insert" name="insert">select company name</option>
                                    <option value="11888" name="11888">dummy company</option>
                                    {% block company %}{% endblock %}
                                </select>
                            </form>
                        </div>
                                    {%endblock%}
                    </div>
                </div>

                {%block add_task%}
                {%endblock%}
                {%if session['write'] !='NO'%}
                {%block add%}
                {%endblock%}
                {%endif%}
                {%block content%}
                {%endblock%}
                
                <!-- Small boxes (Stat box) -->
                <!-- Small boxes (Stat box) -->
              
            </section>
        </aside>
    </div>
<script >
var globId = {};
//cookievalue= escape("NO");
//document.cookie=cookievalue;
//alert("Setting Cookies : " + "name=" + cookievalue );
function remove_modal()
{
    $("#help").css("display","none")
}
function remove_commit()
{
    localStorage.setItem("commit", null);
    $("#alert_commit").css("display","none")
    var company_name = document.getElementById("command").value;
              // $.post("/display_suggestion", params={'command':x} );
                 //window.open('/get_index_fields',_self)'"'
              localStorage.setItem("prev_company",company_name);
              metric = $( "#cur_param" ).text();
              $("#help").css("display","none")
              metric=metric.trim();
              window.location = window.location.origin + '/display_suggestion' + '?command='+company_name+'&metric='+metric
}

function Company_Changed() {
            var commits = localStorage.getItem("commit");
           
            if(commits!="null")
            {
              //alert("1")
              $("#alert_commit").css("display","block");


            }
            else
            {
              var company_name = document.getElementById("command").value;
              // $.post("/display_suggestion", params={'command':x} );
                 //window.open('/get_index_fields',_self)'"'
              localStorage.setItem("prev_company",company_name);
              metric = $( "#cur_param" ).text();
              $("#help").css("display","none")
              metric=metric.trim();
              window.location = window.location.origin + '/display_suggestion' + '?command='+company_name+'&metric='+metric
            }
    }
    function popular_product()
    {
        window.location = window.location.origin + '/get_all_infield'+ '?data=Popular Products'
    
           // $.post("/get_all_infield",{data:"Popular Products"});
            //window.location = window.location.origin + '/display_popular'
    }
    function Metric(clicked_id)
    {
      var company=document.getElementById("command").value;
      //alert(company)
      if(company.localeCompare("insert")==0)
        window.location = window.location.origin + '/metric_type'+ '?data='+clicked_id
      else
      {
          clicked_id=clicked_id.replace('_',' ')
          $( "#cur_param" ).text(clicked_id);
          Company_Changed()

      }
           // $.post("/get_all_infield",{data:"Popular Products"});
            //window.location = window.location.origin + '/display_popular'
    }
    function infield()
    {
            $.post("/get_all_infield",{data:"In Field"});
    }
    function remove_alert()
    {

      $("#alert_delete").css("display","none");
    
    }
    function delete_alert()
    {
     var prev_del=localStorage.getItem("delete")
      var delete_data=prev_del+"\t \t \t \n"+globId.function+","+globId.data
      localStorage.setItem("delete",delete_data);
      //alert(globId.data);
      //alert(globId.function);
      //globId.commit="commit";
      //alert(globId.commit)
      localStorage.setItem("commit", "commit");
      //var commits = localStorage.getItem("commit");
            //alert(commits);
      //cookievalue= escape("commit");
      //alert(commit)
      window.location=window.location.origin+"/"+globId.function+""+"?company="+company+"&data="+globId.data
      //$("#alert_delete").css("display","none");
    
    }
    function commit_alert()
    {
      localStorage.setItem("commit", null);
      //alert(localStorage.getItem("commit"))
      //alert("2")
      var delete_part=localStorage.getItem("delete")
      var prev_comp=localStorage.getItem("prev_company")
      var local_popular=localStorage.getItem("popular");
      var local_field=localStorage.getItem("infield");
      var local_suggestion=localStorage.getItem("suggestion");
      total_data=prev_comp+"::"+"popular:\n "+local_popular+" \nsuggestion:\n "+local_suggestion+" \nfield:\n "+local_field+" \ndelete:\n "+delete_part
      //alert(total_data)
      localStorage.setItem("popular","")
      localStorage.setItem("infield","")
      localStorage.setItem("suggestion","")
      localStorage.setItem("delete","")
      //alert(localStorage.getItem("prev_company"))
      //$("#alert_commit").css("display","none")
      $.ajax(
        {async:false, type:"POST",url:"/commit",data:$("form").serialize()+"&total_data="+total_data+"",success:function(response){
            //response = JSON && JSON.parse(response) || $.parseJSON(response);
            //alert("1");
        }
      });
      var company_name = document.getElementById("command").value;
              // $.post("/display_suggestion", params={'command':x} );
                 //window.open('/get_index_fields',_self)'"'
              localStorage.setItem("prev_company",company_name);
              metric = $( "#cur_param" ).text();
              $("#help").css("display","none")
              metric=metric.trim();
              window.location = window.location.origin + '/display_suggestion' + '?command='+company_name+'&metric='+metric
    }

</script>
        <script src="dashboard_files/jquery.js"></script>
        <script src="dashboard_files/bootstrap.js" type="text/javascript"></script>
        <script src="dashboard_files/jquery-ui.js" type="text/javascript"></script>
        <!-- Morris.js charts -->
        <script src="dashboard_files/raphael-min.js"></script>
        <script src="dashboard_files/morris.js" type="text/javascript"></script>
        <!-- Sparkline -->
        <script src="dashboard_files/jquery_003.js" type="text/javascript"></script>
        <!-- jvectormap -->
        <script src="dashboard_files/jquery-jvectormap-1.js" type="text/javascript"></script>
        <script src="dashboard_files/jquery-jvectormap-world-mill-en.js" type="text/javascript"></script>
        <!-- jQuery Knob Chart -->
        <script src="dashboard_files/jquery_002.js" type="text/javascript"></script>
        <!-- daterangepicker -->
        <script src="dashboard_files/daterangepicker.js" type="text/javascript"></script>
        <!-- datepicker -->
        <script src="dashboard_files/bootstrap-datepicker.js" type="text/javascript"></script>
        <!-- Bootstrap WYSIHTML5 -->
        <script src="dashboard_files/bootstrap3-wysihtml5.js" type="text/javascript"></script>
        <!-- iCheck -->
        <script src="dashboard_files/icheck.js" type="text/javascript"></script>

        <!-- AdminLTE App -->
        <script src="dashboard_files/app.js" type="text/javascript"></script>

        <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
        <script src="dashboard_files/dashboard.js" type="text/javascript"></script>

        <!-- AdminLTE for demo purposes -->
        <script src="dashboard_files/demo.js" type="text/javascript"></script>
        <script src="lib/sweet-alert.min.js"></script> <link rel="stylesheet" type="text/css" href="lib/sweet-alert.css">
<script>
function logout()
{
    var check_commit=localStorage.getItem("commit");
    if(check_commit!="null")
        {
            $("#alert_commit").css("display","block");
        }
    else
    {
        window.location = window.location.origin + '/logout'
    }

}
</script>
<script type="text/javascript">
  function task_status(){
    var task_name=document.getElementById('tasks_name').value
    window.location = window.location.origin + '/specific_task' + '?name='+task_name
  }
  function running_task_status(){
    var running_task_name=document.getElementById('running_tasks_name').value
    window.location = window.location.origin + '/running_specific_task' + '?name='+running_task_name
  }
</script>

</body>
</html>    